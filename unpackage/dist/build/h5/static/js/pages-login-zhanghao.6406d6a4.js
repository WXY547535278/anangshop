(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-zhanghao"],{"1bba":function(t,e,o){"use strict";var n=o("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("f499")),a=n(o("9c42")),d=n(o("4735")),r=o("667f"),s={name:"loginZhanghao",data:function(){return{login:{url:"unifiedLogin",method:"post"}}},created:function(){(0,r.is_login)();var t=(0,r.getParams)("code");t&&this.getUserInfo(t)},methods:{wx_login:function(){var t=(0,r.getParams)("code");if(console.log(t),t)this.getUserInfo(t);else{var e=(0,r.getAppid)(),o=window.location.href;window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(o)+"&response_type=code&scope=snsapi_base&state=1#wechat_redirect"}},getUserInfo:function(t){var e={url:"getUserInfoByCode?code="+t,method:"get"},o={};a.default.httpRequest(e,(0,i.default)(o)).then(function(t){if(console.log("授权",t),200==t.data.code)return 2==t.data.data.type?(console.log(t.data.data.type),!1):void uni.setStorage({key:"token",data:t.data.data.token,success:function(){console.log("success")}});wx.showToast({title:t.data.msg,icon:"none",duration:1e3})}).catch(function(t){console.log("err",t)})},formSubmit:function(t){var e=this;console.log((0,i.default)(t.detail.value)),a.default.httpRequest(this.login,(0,i.default)(t.detail.value)).then(function(t){console.log(t),400==t.data.code&&wx.showToast({title:t.data.msg,icon:"none",duration:1e3}),500==t.data.code&&wx.showToast({title:t.data.msg,icon:"none",duration:1e3}),200==t.data.code&&(console.log("账号登录成功返回的token数据"),console.log(t.data.data.token),d.default.setCookie(t.data.data.employeeInfo.login_id,2),e.$store.commit("swapId",t.data.data.employeeInfo.login_id),uni.setStorage({key:"token",data:t.data.data.token,success:function(){console.log("success")}}),uni.showToast({title:"登录成功！",icon:"success",duration:1e3,success:function(){setTimeout(function(){uni.switchTab({url:"../tabbar/tabbar-2/tabbar-2"})},2e3)}}))},function(t){console.log(t)})}},onLoad:function(){}};e.default=s},3123:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"login"},[o("v-uni-view",{staticClass:"logo-container"},[o("v-uni-view",{staticClass:"logo-container-img"}),o("v-uni-view",{staticClass:"logo-container-decoration"},[o("v-uni-view",{staticClass:"decoration"}),o("v-uni-view",{staticClass:"decoration"})],1)],1),o("v-uni-view",{staticClass:"login-input"},[o("v-uni-form",{staticClass:"login-input-form",attrs:{method:"post"},on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)}}},[o("v-uni-view",{staticClass:"login-input-form-content"},[o("v-uni-view",{staticClass:"input-item"},[o("v-uni-image",{attrs:{src:"../../static/img/loginImg/icon_signal.png"}}),o("v-uni-input",{attrs:{confirmtype:"text",name:"username",autocomplete:"off",placeholder:"请输入用户名",required:""}})],1),o("v-uni-view",{staticClass:"input-item"},[o("v-uni-image",{attrs:{src:"../../static/img/loginImg/lock.png"}}),o("v-uni-input",{attrs:{confirmtype:"text",name:"password",autocomplete:"off",password:"",placeholder:"请输入密码",required:""}})],1),o("v-uni-view",{staticClass:"link"},[o("v-uni-navigator",{staticClass:"left",attrs:{url:"/pages/register/register"}},[t._v("注册")]),o("v-uni-navigator",{staticClass:"right",attrs:{url:"/pages/login/duanxin"}},[t._v("短信登录")])],1)],1),o("v-uni-button",{staticClass:"submit-button",attrs:{"form-type":"submit"}},[t._v("登 录")]),o("v-uni-view",{staticClass:"line"},[o("v-uni-text",{staticClass:"line-left"}),o("v-uni-text",{staticClass:"line-text"},[t._v("OR")]),o("v-uni-text",{staticClass:"line-right"})],1),o("v-uni-navigator",{staticClass:"zhaohui",attrs:{url:"forgetPwd"}},[t._v("忘记密码？")])],1)],1),o("v-uni-view",{staticClass:"login-footer"},[t._v("© 2019 安昂商城 版权所有")])],1)},i=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return i})},4273:function(t,e,o){"use strict";o.r(e);var n=o("3123"),i=o("6a90");for(var a in i)"default"!==a&&function(t){o.d(e,t,function(){return i[t]})}(a);o("bf42");var d=o("2877"),r=Object(d["a"])(i["default"],n["a"],n["b"],!1,null,"9d7d8de0",null);e["default"]=r.exports},4735:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("28a5");var n=void 0,i=function(t,e){var o=new Date;o.setTime(o.getTime()+864e5*e),window.document.cookie="login_id="+t+";path=/;expires="+o.toGMTString()},a=function(){if(document.cookie.length>0)for(var t=document.cookie.split("; "),e=0;e<t.length;e++){var o=t[e].split("=");"userName"==o[0]?n.ruleForm.userName=o[1]:"userPwd"==o[0]&&(n.ruleForm.password=o[1])}},d=function(){i("",-1)},r={setCookie:i,getCookie:a,clearCookie:d};e.default=r},"667f":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParams=a,e.getAppid=d,e.employee_url=r,e.is_login=s,e.wx_login=l,o("386d"),o("4917"),o("3b2b");var n="wxc0ea276f46bfe519",i="http://anang-employee.weiwochina.com";function a(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(e);return null!=o?unescape(o[2]):null}function d(){return n}function r(){return i}function s(){var t=uni.getStorageSync("token");if(!t)return!1;uni.switchTab({url:"/pages/tabbar/tabbar-2/tabbar-2"})}function l(){var t=a("code");if(t)getUserInfo(t);else{var e=d(),o=window.location.href;window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(o)+"&response_type=code&scope=snsapi_base&state=1#wechat_redirect"}}},"6a90":function(t,e,o){"use strict";o.r(e);var n=o("1bba"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,function(){return n[t]})}(a);e["default"]=i.a},bf42:function(t,e,o){"use strict";var n=o("c533"),i=o.n(n);i.a},c533:function(t,e,o){var n=o("e600");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("28664f40",n,!0,{sourceMap:!1,shadowMode:!1})},e600:function(t,e,o){var n=o("b041");e=t.exports=o("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.login[data-v-9d7d8de0]{width:100%;height:100%;position:relative}.login .logo-container[data-v-9d7d8de0]{position:absolute;width:100%;height:%?478?%;top:0;background-image:url('+n(o("79f5"))+");background-size:100% 100%;background-repeat:no-repeat}.login .logo-container-img[data-v-9d7d8de0]{width:%?298?%;height:%?114?%;background-image:url("+n(o("089b"))+");background-repeat:no-repeat;background-size:cover;position:absolute;left:%?212?%;top:%?132?%;z-index:1000}.login .logo-container-decoration[data-v-9d7d8de0]{width:100%;height:%?280?%;position:absolute;top:%?300?%;left:0}.login .logo-container-decoration .decoration[data-v-9d7d8de0]{position:absolute;left:0;width:100%;height:100%;background-image:url("+n(o("3149"))+");background-size:150% 150%;background-position:30% 0}.login .logo-container-decoration .decoration[data-v-9d7d8de0]:last-child{-webkit-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1)}.login-input[data-v-9d7d8de0]{position:absolute;left:%?49?%;top:%?360?%;width:%?652?%;height:%?774?%;background:#fff;-webkit-box-shadow:%?0?% %?16?% %?119?% %?0?% hsla(0,0%,45.5%,.3);box-shadow:%?0?% %?16?% %?119?% %?0?% hsla(0,0%,45.5%,.3);border-radius:%?44?% %?44?% %?44?% %?44?%}.login-input-form[data-v-9d7d8de0]{padding:%?66?% %?50?% %?0?% %?50?%;line-height:%?64?%;display:block}.login-input-form-content .input-item[data-v-9d7d8de0]{width:%?550?%;height:%?64?%;border-bottom:%?2?% solid #e5e5e5}.login-input-form-content .input-item[data-v-9d7d8de0]:first-child{margin-bottom:%?30?%}.login-input-form-content .input-item uni-image[data-v-9d7d8de0]{width:%?40?%;height:%?40?%;margin-right:%?30?%}.login-input-form-content .input-item uni-input[data-v-9d7d8de0]{font-size:%?26?%;display:inline-block;line-height:%?64?%}.login-input-form-content .link[data-v-9d7d8de0]{font-size:%?24?%;width:100%;height:%?64?%;position:relative}.login-input-form-content .link uni-navigator[data-v-9d7d8de0]{display:inline-block}.login-input-form-content .link .left[data-v-9d7d8de0]{margin-right:%?400?%;color:#fe6959}.login-input-form-content .link .right[data-v-9d7d8de0]{color:#999}.login-input-form .submit-button[data-v-9d7d8de0]{width:%?564?%;height:%?88?%;background:-webkit-gradient(linear,right top,left top,from(#fd8957),to(#ff4e02));background:-o-linear-gradient(right,#fd8957,#ff4e02);background:linear-gradient(-90deg,#fd8957,#ff4e02);-webkit-box-shadow:%?0?% %?12?% %?44?% %?4?% rgba(255,78,2,.3);box-shadow:%?0?% %?12?% %?44?% %?4?% rgba(255,78,2,.3);border-radius:%?44?%;color:#fff;font-size:%?34?%;position:absolute;left:%?44?%;top:%?334?%}.login-input-form .line[data-v-9d7d8de0]{position:absolute;font-size:%?20?%;color:#acacac;left:%?92?%;top:%?482?%;width:%?486?%;height:%?26?%;line-height:%?26?%}.login-input-form .line uni-text[data-v-9d7d8de0]{display:inline-block}.login-input-form .line-left[data-v-9d7d8de0],.login-input-form .line-right[data-v-9d7d8de0]{width:%?210?%;height:%?2?%;background-color:#eee;margin-bottom:%?6?%}.login-input-form .line-text[data-v-9d7d8de0]{padding:0 %?6?%}.login-input-form .wechat[data-v-9d7d8de0]{position:absolute;left:%?282?%;top:%?544?%;width:%?88?%;height:%?88?%;background-color:#28b602;background-image:url("+n(o("5a71"))+");background-size:70% 60%;background-repeat:no-repeat;background-position:50%;border-radius:50%}.login-input-form .zhaohui[data-v-9d7d8de0]{position:absolute;left:%?266?%;top:%?710?%;font-size:%?24?%;color:#fe6959}.login-footer[data-v-9d7d8de0]{width:100%;text-align:center;height:%?20?%;line-height:%?20?%;position:absolute;top:%?1236?%;font-size:%?24?%;color:#aaa}",""])}}]);