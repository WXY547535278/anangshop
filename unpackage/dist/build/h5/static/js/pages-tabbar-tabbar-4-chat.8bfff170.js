(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-tabbar-4-chat"],{"03c0":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-container"},[i("v-uni-view",{staticClass:"back"},[e._t("backImg")],2),i("v-uni-view",{staticClass:"title"},[e._t("title")],2),i("v-uni-view",{staticClass:"right"},[e._t("right")],2)],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},"0552":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("288e");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("28a5"),__webpack_require__("ac6a");var _stringify=_interopRequireDefault(__webpack_require__("f499"));__webpack_require__("a481"),__webpack_require__("6b54"),__webpack_require__("87b3");var _header=_interopRequireDefault(__webpack_require__("2eb1")),_chatinput=_interopRequireDefault(__webpack_require__("0574")),_messageshow=_interopRequireDefault(__webpack_require__("f9b2")),_http=_interopRequireDefault(__webpack_require__("9c42")),_default={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0,kefu_id:null},scrollTop:0,content:"",messages:[],message:[],ws:new WebSocket("ws://47.92.147.48:10086"),token:"",illegalText:{url:"illegalTextTest",method:"post"},EXPS:[],kefu_id:null}},components:{MyHeader:_header.default,chatInput:_chatinput.default,messageShow:_messageshow.default},onLoad:function(e){this.kefu_id=e.kefu_id},mounted:function(){this.getChatMessage(),this.loadEmojiData()},created:function(){this.WebSocketTest();var e=uni.getSystemInfoSync();this.style.pageHeight=e.windowHeight,this.style.contentViewHeight=e.windowHeight-uni.getSystemInfoSync().screenWidth/750*100},methods:{loadEmojiData:function loadEmojiData(){var _this=this;uni.request({url:"../../../static/emojiDB.json",method:"get"}).then(function(res){var json=eval("("+res[1].data+")");_this.EXPS=json.EXPS.slice(0)})},replaceFace:function(e){if(e){if(null==e.content&&(e.content='<image src="'+e.img_url+'"  alt=""></image>'),e.content.toString().indexOf("[")>-1)for(var t=this.EXPS,i=0;i<t.length;i++)e.content=e.content.replace("["+t[i].title+"]",'<image src="'+t[i].file+'"  alt=""></image>');return e}},getInputMessage:function(e){var t=this;console.log("输入的内容：",e);var i=this;_http.default.httpTokenRequest(i.illegalText,{text:e.content}).then(function(e){console.log("过滤成功返回的消息",e.data);var n={type:"text",from_id:t.getCookie(),to_id:t.kefu_id,content:e.data.data};console.log("过滤后的消息",n),i.ws.send((0,_stringify.default)(n)),t.addMessage("customer",n.content,(new Date).toLocaleTimeString())}),console.log("获取输入框输入的消息："),console.log(e)},addMessage:function(e,t,i){var n=this;n.messages.push({user:e,content:t,time:i}),this.scrollToBottom()},scrollToBottom:function(){var e=this,t=uni.createSelectorQuery();t.selectAll(".m-item").boundingClientRect(),t.select("#scrollview").boundingClientRect(),t.exec(function(t){e.style.mitemHeight=0,t[0].forEach(function(t){e.style.mitemHeight=e.style.mitemHeight+t.height+20}),e.style.mitemHeight>e.style.contentViewHeight&&(e.scrollTop=e.style.mitemHeight-e.style.contentViewHeight)})},WebSocketTest:function(){var e=this;e.ws.onopen=function(){console.log("连接成功WebSocket成功！");var t={type:"login",from_id:e.getCookie()};e.ws.send((0,_stringify.default)(t))},e.ws.onmessage=function(e){var t=e.data;console.log("接收到的消息",t)},e.ws.onclose=function(e){console.log("连接关闭",e)}},getChatMessage:function(){var e=this;uni.showLoading({title:"正在加载数据"}),_http.default.httpTokenRequest({url:"getWechatMessageByService?login_id="+this.getCookie()+"&employess_id="+this.kefu_id,method:"get"},{}).then(function(t){if(console.log(t.data),200==t.data.code){uni.hideLoading(),e.message=t.data.data,console.log(e.message);for(var i=0;i<e.message.length;i++)e.message[i].from_id==e.getCookie()?e.messages.push({user:"customer",content:e.message[i].content,time:e.message[i].send_time,img_url:e.message[i].img_url}):e.messages.push({user:"home",content:e.message[i].content,time:e.message[i].send_time,img_url:e.message[i].img_url})}},function(e){console.log(e)})},getCookie:function(){var e=null;if(document.cookie.length>0)for(var t=document.cookie.split("; "),i=0;i<t.length;i++){var n=t[i].split("=");"login_id"==n[0]&&(e=n[1])}return e}}};exports.default=_default},"0574":function(e,t,i){"use strict";i.r(t);var n=i("1868"),a=i("5f88");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("ff64");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"3d46047e",null);t["default"]=r.exports},"08bc":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("9c42")),s=i("2f62"),o={data:function(){return{abosultPaht:"../../../",time:(new Date).toLocaleTimeString()}},props:["message","id"],computed:(0,s.mapState)(["user"]),methods:{pTime:function(e){return a.default.parseTime(e)}},onLoad:function(){this.showP()}};t.default=o},"0932":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"MyHeader",props:{}};t.default=n},1706:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"chat"},[i("my-header",{staticClass:"header",staticStyle:{"background-color":"#FFFFFF"}},[i("v-uni-navigator",{staticClass:"header-back",attrs:{slot:"backImg",url:"tabbar-4","open-type":"switchTab"},slot:"backImg"},[i("v-uni-image",{staticStyle:{width:"16rpx",height:"26rpx"},attrs:{src:"../../../static/img/tabbar/back.png"}})],1),i("v-uni-view",{staticClass:"header-title",staticStyle:{"font-weight":"600","font-size":"24rpx"},attrs:{slot:"title"},slot:"title"},[e._v("安昂商城客服")])],1),i("v-uni-view",{staticClass:"uni-column"},[i("v-uni-view",{staticClass:"content",style:{height:e.style.contentViewHeight+"px"},attrs:{id:"content"}},[i("v-uni-scroll-view",{style:{height:e.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":e.scrollTop}},[e._l(e.messages,function(t,n){return i("message-show",{key:n,attrs:{message:e.replaceFace(t),id:n}})}),i("v-uni-view",{attrs:{id:"bottom"}})],2)],1),i("v-uni-view",{staticClass:"foot"},[i("chat-input",{on:{"send-message":function(t){t=e.$handleEvent(t),e.getInputMessage(t)}}})],1)],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},1868:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("transition",{attrs:{name:"slide-fade"}},[e.flag?i("v-uni-view",{staticClass:"expression",staticStyle:{"z-index":"1000000"}},[i("v-uni-view",{staticClass:"chat-box"},[i("v-uni-swiper",{attrs:{"indicator-dots":"true"}},e._l(Math.ceil(e.EXPS.length/27),function(t){return i("v-uni-swiper-item",{key:t},e._l(e.getEmotionData(t,27),function(t,n){return i("v-uni-view",{key:n,staticClass:"xw-faceEmoji"},[i("v-uni-image",{attrs:{src:t.file,data:t.code},on:{click:function(i){i=e.$handleEvent(i),e.inputValue+="["+t.title+"]"}}})],1)}),1)}),1)],1)],1):e._e()],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"footer-left"},[i("v-uni-image",{attrs:{src:"../../../static/img/tabbar/yy.png",mode:""}})],1),i("v-uni-view",{staticClass:"footer-center"},[i("v-uni-input",{staticClass:"input-text",attrs:{type:"text"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1),i("v-uni-view",{staticClass:"footer-right"},[i("v-uni-view",{attrs:{id:"msg-type"},on:{click:function(t){t=e.$handleEvent(t),e.sendMessge(t)}}},[e._v("发送")]),i("v-uni-view",{staticClass:"footer-right-more",attrs:{id:"msg-type"},on:{click:function(t){t=e.$handleEvent(t),e.changeFlag(t)}}},[e._v("＋")])],1)],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},"24b0":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+e.id}},[i("v-uni-view",{staticClass:"m-left"},["home"==e.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:e.abosultPaht+e.user.home.img}}):e._e(),"home"==e.message.user?i("v-uni-view",{staticClass:"name"},[e._v("安昂商城客服-小二")]):e._e()],1),i("v-uni-view",{staticClass:"m-content",attrs:{id:"m-content"}},[i("v-uni-view",{staticClass:"time",domProps:{innerHTML:e._s(e.pTime(e.message.time))}}),i("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==e.message.user}},[i("v-uni-view",{class:"m-content-head-"+e.message.user,domProps:{innerHTML:e._s(e.message.content)}})],1)],1),i("v-uni-view",{staticClass:"m-right"},["customer"==e.message.user?i("v-uni-image",{staticClass:"head_icon",attrs:{src:e.abosultPaht+e.user.customer.img}}):e._e()],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},"2eb1":function(e,t,i){"use strict";i.r(t);var n=i("03c0"),a=i("8756");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("de42");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"371bac54",null);t["default"]=r.exports},"4b9f":function(e,t,i){"use strict";i.r(t);var n=i("0552"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},5919:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".m-item[data-v-43e5b5f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:%?80?%;position:relative}\n/* .time {\n\tposition: absolute;\n} */.m-item[data-v-43e5b5f2]:first-child{padding-top:%?200?%}.m-left[data-v-43e5b5f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:%?90?%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;position:relative}.m-left .name[data-v-43e5b5f2]{width:%?300?%;position:absolute;left:%?100?%;top:%?-20?%;z-index:10;font-size:%?20?%}.m-content[data-v-43e5b5f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;word-break:break-all;position:relative}.m-content .time[data-v-43e5b5f2]{width:%?210?%;height:%?30?%;line-height:%?30?%;background-color:#c1c1c1;text-align:center;color:#fff;border-radius:%?10?%;position:absolute;font-size:%?16?%;top:-26px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.m-right[data-v-43e5b5f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:%?90?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.head_icon[data-v-43e5b5f2]{width:%?80?%;height:%?80?%;border-radius:%?16?%}.m-content-head[data-v-43e5b5f2]{position:relative}.m-content-head uni-image[data-v-43e5b5f2]{width:%?30?%;height:%?30?%;-webkit-transform:translateY(%?6?%);-ms-transform:translateY(%?6?%);transform:translateY(%?6?%)}.m-content-head-right[data-v-43e5b5f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.m-content-head-home[data-v-43e5b5f2]{text-align:left;background:#fff;border-radius:%?24?%;padding:%?20?%;-webkit-transform:translateY(%?10?%);-ms-transform:translateY(%?10?%);transform:translateY(%?10?%)}.m-content-head-customer[data-v-43e5b5f2]{border:1px #fff solid;background:#ffa302;border-radius:%?24?%;padding:%?20?%}",""])},"5b24":function(e,t,i){var n=i("73d0");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("7f37ad42",n,!0,{sourceMap:!1,shadowMode:!1})},"5f88":function(e,t,i){"use strict";i.r(t);var n=i("abf6"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"73d0":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.header[data-v-371bac54]{position:fixed;z-index:1000;background-color:#f0f0f0;top:0;width:100%;height:%?42?%;padding-top:%?50?%;font-size:%?24?%;line-height:%?24?%;display:inline-block}.header-container[data-v-371bac54]{width:100%;height:%?42?%;position:relative}.header-container .back[data-v-371bac54]{position:absolute;left:%?20?%}.header-container .title[data-v-371bac54]{display:inline-block;text-align:center;width:100%}.header-container .right[data-v-371bac54]{position:absolute;top:0;right:0;width:%?300?%;height:%?42?%}',""])},"82ab":function(e,t,i){var n=i("9e31");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("190ac5c5",n,!0,{sourceMap:!1,shadowMode:!1})},8756:function(e,t,i){"use strict";i.r(t);var n=i("0932"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"8e59":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-b8ae692a]{background-color:#f0f0f0}.uni-column[data-v-b8ae692a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.content[data-v-b8ae692a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-bottom:100px}.foot[data-v-b8ae692a]{position:fixed;width:100%;height:%?90?%;min-height:%?90?%;left:0;bottom:0;overflow:hidden}.foot .expression[data-v-b8ae692a]{width:96%;height:%?300?%;border:solid %?2?% #bbb;background-color:#fff;position:fixed;bottom:%?90?%;left:%?14?%;z-index:10000}.foot .expression .xw-faceEmoji[data-v-b8ae692a]{width:%?80?%;height:%?80?%;display:inline-block;margin-top:%?10?%}.foot .expression .xw-faceEmoji uni-image[data-v-b8ae692a]{width:%?60?%;height:%?60?%}.slide-fade-enter-active[data-v-b8ae692a]{-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease}.slide-fade-leave-active[data-v-b8ae692a]{-webkit-transition:all .3s cubic-bezier(1,.5,.8,1);-o-transition:all .3s cubic-bezier(1,.5,.8,1);transition:all .3s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-b8ae692a]{-webkit-transform:translateY(%?-10?%);-ms-transform:translateY(%?-10?%);transform:translateY(%?-10?%);opacity:0}.slide-fade-leave-to[data-v-b8ae692a]{-webkit-transform:translateY(%?10?%);-ms-transform:translateY(%?10?%);transform:translateY(%?10?%);opacity:0}body.?%PAGE?%[data-v-b8ae692a]{background-color:#f0f0f0}',""])},"9c42":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a481"),i("6b54"),i("87b3");var a=n(i("e814")),s=n(i("795b")),o="http://workmantest.fologde.com/public/index.php/",r=function(e,t){var i={url:o+e.url,data:t,method:e.method},n=new s.default(function(e,t){uni.request(i).then(function(t){e(t[1])}).catch(function(e){t(e)})});return n},l=function(e,t){var i="";uni.getStorage({key:"token",success:function(e){i=e.data}});var n={url:o+e.url,data:t,method:e.method,header:{"user-token":i,time:Math.round(new Date/1e3)},dataType:"json"},a=new s.default(function(e,t){uni.request(n).then(function(t){e(t[1])}).catch(function(e){t(e)})});return a},c=function(e,t){if(e){if(0===arguments.length)return null;var i,n=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===typeof e?i=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=(0,a.default)(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),i=new Date(e));var s={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()},o=n.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var i=s[t];return"a"===t?["日","一","二","三","四","五","六"][i]:(e.length>0&&i<10&&(i="0"+i),i||0)});return o}},u={baseUrl:o,httpRequest:r,httpTokenRequest:l,parseTime:c};t.default=u},"9e31":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* @import "../../common/icon.css"; */.slide-fade-enter-active[data-v-3d46047e]{-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease}.slide-fade-leave-active[data-v-3d46047e]{-webkit-transition:all .3s cubic-bezier(1,.5,.8,1);-o-transition:all .3s cubic-bezier(1,.5,.8,1);transition:all .3s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-3d46047e]{-webkit-transform:translateY(%?-10?%);-ms-transform:translateY(%?-10?%);transform:translateY(%?-10?%);opacity:0}.slide-fade-leave-to[data-v-3d46047e]{-webkit-transform:translateY(%?10?%);-ms-transform:translateY(%?10?%);transform:translateY(%?10?%);opacity:0}.content .expression[data-v-3d46047e]{width:96%;height:%?300?%;border:solid %?2?% #bbb;background-color:#fff;position:fixed;bottom:%?90?%;left:%?14?%}.content .expression .xw-faceEmoji[data-v-3d46047e]{width:%?80?%;height:%?80?%;display:inline-block;margin-top:%?10?%}.content .expression .xw-faceEmoji uni-image[data-v-3d46047e]{width:%?60?%;height:%?60?%}.footer[data-v-3d46047e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?80?%;min-height:%?80?%;border-top:solid %?2?% #bbb;overflow:hidden;padding:0;background-color:#e6e6e6}.footer-left[data-v-3d46047e]{width:%?80?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.footer-left uni-image[data-v-3d46047e]{z-index:999;width:%?50?%;height:%?50?%}.footer-right[data-v-3d46047e]{width:%?160?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#1482d1;font-weight:600}.footer-right-more[data-v-3d46047e]{width:%?40?%;height:%?40?%;margin-left:%?24?%;background-color:#ff8900;border-radius:50%;color:#fff;text-align:center;font-size:%?40?%;line-height:%?40?%;font-weight:300}.footer-center[data-v-3d46047e]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.footer-center .input-text[data-v-3d46047e]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background:#fff;border:solid 1px #ddd;padding:%?10?%!important;font-family:verdana!important;overflow:hidden;border-radius:%?16?%}',""])},a99f:function(e,t,i){"use strict";i.r(t);var n=i("08bc"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},abf6:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={name:"chat-input",data:function(){return{inputValue:"",flag:!1,EXPS:[]}},mounted:function(){this._loadEmojiData()},methods:{getEmotionData:function(e,t){return this.EXPS.slice((e-1)*t,t*e)},_loadEmojiData:function _loadEmojiData(){var _this=this;uni.request({url:"../../../static/emojiDB.json",method:"get"}).then(function(res){var json=eval("("+res[1].data+")");_this.EXPS=json.EXPS.slice(0)})},getFlag:function(e){this.showExpression=e.flag},startRecognize:function(){var e={},t=this;e.engine="iFly",t.inputValue="",plus.speech.startRecognize(e,function(e){console.log(e),t.inputValue+=e},function(e){console.log("语音识别失败："+e.message)})},changeFlag:function(){console.log("changeFlag通过父组件触发"),this.flag=!this.flag,this.$emit("change-flag",{flag:this.flag})},sendMessge:function(){this.flag=!1,console.log("sendMessge通过父组件触发");var e=this;""!=e.inputValue.trim()?(this.$emit("send-message",{type:"text",content:e.inputValue}),e.inputValue=""):uni.showToast({title:"输入的信息不能为空",icon:"none",duration:1e3})}}};exports.default=_default},b5af:function(e,t,i){var n=i("8e59");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("86adeb20",n,!0,{sourceMap:!1,shadowMode:!1})},cd3f:function(e,t,i){"use strict";var n=i("fec2"),a=i.n(n);a.a},de42:function(e,t,i){"use strict";var n=i("5b24"),a=i.n(n);a.a},e628:function(e,t,i){"use strict";i.r(t);var n=i("1706"),a=i("4b9f");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("f751");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"b8ae692a",null);t["default"]=r.exports},f751:function(e,t,i){"use strict";var n=i("b5af"),a=i.n(n);a.a},f9b2:function(e,t,i){"use strict";i.r(t);var n=i("24b0"),a=i("a99f");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("cd3f");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"43e5b5f2",null);t["default"]=r.exports},fec2:function(e,t,i){var n=i("5919");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("baee8c90",n,!0,{sourceMap:!1,shadowMode:!1})},ff64:function(e,t,i){"use strict";var n=i("82ab"),a=i.n(n);a.a}}]);